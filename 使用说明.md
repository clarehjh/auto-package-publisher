# 快速使用指南

## 📌 第一步：安装依赖

```bash
npm install
```

## 📌 第二步：配置环境

1. 复制 `env.example` 文件为 `.env`

```bash
# Windows
copy env.example .env

# Linux/Mac
cp env.example .env
```

2. 编辑 `.env` 文件，填入你的配置：

```env
# 服务器端口（默认3000）
PORT=3000

# NPM配置
NPM_TOKEN=你的NPM令牌
```

### 如何获取 Token：

**NPM Token:**

1. 访问 https://www.npmjs.com/settings
2. 进入 Access Tokens
3. 创建新的 Automation 或 Publish token
4. 复制生成的 token

## 📌 第三步：启动服务

### Windows 系统：

直接双击运行 `start.bat`

或使用命令行：

```bash
npm start
```

### Linux/Mac 系统：

```bash
chmod +x start.sh
./start.sh
```

或使用命令行：

```bash
npm start
```

## 📌 第四步：访问界面

打开浏览器访问：`http://localhost:3000`

## 📦 如何发布包

### 方法 1：使用.tgz 格式（推荐）

如果你要发布的是已有的 NPM 包（已经是.tgz 格式），直接上传即可。

1. 在界面上选择你的 `.tgz` 文件
2. 输入包名和版本号
3. 选择发布目标（NPM）
4. 点击"开始发布"

### 方法 2：使用.zip 格式

1. 将你的包文件夹压缩成 `.zip` 文件
2. 确保压缩包内包含 `package.json`
3. 上传并填写信息
4. 系统会自动处理并发布

## 🌐 部署到服务器

### 使用 PM2（推荐）

```bash
# 安装PM2
npm install -g pm2

# 启动应用
pm2 start server.js --name "package-publisher"

# 设置开机自启
pm2 startup
pm2 save

# 查看状态
pm2 status
```

### 使用 Nginx 反向代理

编辑 Nginx 配置：

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

## ⚠️ 注意事项

1. **安全性**：

   - 不要将 `.env` 文件提交到 Git 仓库
   - Token 要妥善保管，不要泄露
   - 生产环境建议使用 HTTPS

2. **文件大小**：

   - 默认最大上传 100MB
   - 如需修改，编辑 `server.js` 中的 `multer` 配置

3. **包格式**：

   - 推荐使用标准的 NPM 包（.tgz 格式）
   - 确保包含完整的 package.json

4. **版本号**：
   - 遵循语义化版本规范（如：1.0.0）
   - 确保每次发布的版本号不重复

## 🆘 常见问题

**Q: NPM 发布失败怎么办？**
A: 检查 NPM token 是否正确，包名是否符合规范，版本号是否已存在。

**Q: 文件上传失败？**
A: 检查文件大小是否超过限制，网络是否正常。

## 📞 技术支持

遇到问题可以：

1. 查看服务器日志
2. 检查浏览器的开发者工具
3. 查看项目的 README 文档

---

**祝你使用愉快！** 🎉
